-- Tabela Grupo
--DROP TABLE IF EXISTS equipe;

CREATE TABLE equipe (
    id INT PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(100) NOT null,
    banner_id INT null,
    link_pitch VARCHAR(250) null,
    FOREIGN KEY (banner_id) REFERENCES banner(ID)
);

-- Tabela Importacao
--DROP TABLE IF EXISTS importacao;

CREATE TABLE importacao (
    id INT PRIMARY KEY AUTO_INCREMENT,
    nome_processo VARCHAR(50) NOT NULL,
    data_inicio DATETIME,
    data_fim DATETIME,
    processado TINYINT(1),
    usuario VARCHAR(50)
);

-- Tabela Obs
--DROP TABLE IF EXISTS ods;

CREATE TABLE ods (
    id INT PRIMARY KEY AUTO_INCREMENT,
    codigo VARCHAR(10) NOT NULL,
    descricao VARCHAR(250)
);

-- Tabela Aluno
--DROP TABLE IF EXISTS aluno;

CREATE TABLE aluno (
    id INT PRIMARY KEY AUTO_INCREMENT,
    cpf VARCHAR(11) NOT NULL,
    nome VARCHAR(100) NOT NULL,
    email VARCHAR(100) NOT NULL,
    turma VARCHAR(2) NOT NULL,
    is_lider TINYINT(1) NOT NULL,
    is_vice_lider TINYINT(1) NOT NULL,
    equipe_id INT,
    ods_id INT,
    FOREIGN KEY (equipe_id) REFERENCES equipe(id),
    FOREIGN KEY (ods_id) REFERENCES ods(id)
);


INSERT INTO ods (codigo, descricao) VALUES
('ODS1', 'Erradicação da Pobreza'),
('ODS2', 'Fome Zero e Agricultura Sustentável'),
('ODS3', 'Saúde e Bem-Estar'),
('ODS4', 'Educação de Qualidade'),
('ODS5', 'Igualdade de Gênero'),
('ODS6', 'Água Potável e Saneamento'),
('ODS7', 'Energia Acessível e Limpa'),
('ODS8', 'Trabalho Decente e Crescimento Econômico'),
('ODS9', 'Indústria, Inovação e Infraestrutura'),
('ODS10', 'Redução das Desigualdades'),
('ODS11', 'Cidades e Comunidades Sustentáveis'),
('ODS12', 'Consumo e Produção Responsáveis'),
('ODS13', 'Ação Contra a Mudança Global do Clima'),
('ODS14', 'Vida na Água'),
('ODS15', 'Vida Terrestre'),
('ODS16', 'Paz, Justiça e Instituições Eficazes'),
('ODS17', 'Parcerias e Meios de Implementação');


CREATE TABLE formato_avaliacao (
    id INT AUTO_INCREMENT PRIMARY KEY,
    descricao VARCHAR(255)
);

insert into formato_avaliacao (descricao) values
('DLJ'),
('PITCH'),
('SHARK TANK'),
('EXPO DLEI');

--DROP TABLE IF EXISTS avaliador;

CREATE TABLE avaliador (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(255),
    instituicao VARCHAR(255)
);

--DROP TABLE IF EXISTS avaliador_formato;

CREATE TABLE avaliador_formato (
    id_avaliador INT,
    id_formato_avaliacao INT,
    PRIMARY KEY (id_avaliador, id_formato_avaliacao),
    FOREIGN KEY (id_avaliador) REFERENCES avaliador(id),
    FOREIGN KEY (id_formato_avaliacao) REFERENCES formato_avaliacao(id)
);

--DROP TABLE IF EXISTS professor;

CREATE TABLE professor (
  id INT PRIMARY KEY AUTO_INCREMENT,
  nome varchar(100) NOT NULL,
  cpf VARCHAR(11) NOT NULL,
  email varchar(100) NOT NULL,
  equipe_id INT,
  FOREIGN KEY (equipe_id) REFERENCES equipe(id)
);

--DROP TABLE IF EXISTS banner;

 CREATE TABLE banner (
    ID INT PRIMARY key AUTO_INCREMENT,
    TEXTO_DESCRICAO_Q0 VARCHAR(500),
    EQUIPE_Q1 VARCHAR(500),
    PARCEIRO_Q1 VARCHAR(500),
    ATIVIDADE_CHAVE_Q1 VARCHAR(500),
    RECURSOS_Q1 VARCHAR(500),
    CUSTOS_Q1 VARCHAR(500),
    OPORTUNIDADE_NEG_Q2 VARCHAR(500),
    CUSTO_Q2 VARCHAR(500),
    PROPOSTA_VALOR_Q2 VARCHAR(500),
    FONTE_RECEITA_Q2 VARCHAR(500),
    RESULTADO_FINANCEIRO_Q2 VARCHAR(500),
    CONTEXTO_PROBLEMA_Q3 VARCHAR(500),
    PUBLICO_FOCO_IMPACTO_Q3 VARCHAR(500),
    INTERVENCOES_Q3 VARCHAR(500),
    SAIDAS_Q3 VARCHAR(500),
    RESULTADOS_CURTO_PRAZO_Q3 VARCHAR(500),
    RESULTADOS_MEDIO_PRAZO_Q3 VARCHAR(500),
    VISAO_IMPACTO_Q3 VARCHAR(500)
);

--DROP TABLE IF EXISTS  banner;

CREATE TABLE anexo (
    id INT AUTO_INCREMENT PRIMARY KEY,
    banner_id INT,
    nome_anexo VARCHAR(255),
    caminho_anexo VARCHAR(500),
    FOREIGN KEY (banner_id) REFERENCES banner (id)
);